<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Errata • astatur</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Errata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">astatur</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/errata.html">Errata</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ihrke/astatur/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Errata</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ihrke/astatur/blob/HEAD/vignettes/errata.Rmd" class="external-link"><code>vignettes/errata.Rmd</code></a></small>
      <div class="hidden name"><code>errata.Rmd</code></div>

    </div>

    
    
<p>Even though we were trying to get everything right the first time,
small errors can (and do!) slip through the cracks. Here we keep an
updated list of errors and mistakes that have been gracefully pointed
out to us by attentive readers.</p>
<div class="section level3">
<h3 id="problems-in-the-text">Problems in the text<a class="anchor" aria-label="anchor" href="#problems-in-the-text"></a>
</h3>
<ul>
<li>Eq. 7.16: There is an error in Eq. 7.16: there should not be a
subscript i on
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mover><mi>Y</mi><mo accent="true">‾</mo></mover><annotation encoding="application/x-tex">\bar{Y}</annotation></semantics></math>.
The error is in both the numerator and the denominator.</li>
<li>Figure 7.3:
<ul>
<li>This figure is, strictly speaking, not correct, and can be
misleading. The distances shown are not TSS, ESS and RSS, but terms that
- when squared and summed - contribute to these.</li>
<li>We have both found it useful for explaining the concept to our
students. However, the current caption: the current “Visual
representation of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mn>2</mn></msup><annotation encoding="application/x-tex">R^2</annotation></semantics></math>”
may be a little misleading and should read “Conceptual illustration of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mn>2</mn></msup><annotation encoding="application/x-tex">R^2</annotation></semantics></math>”
to emphasize the fact that it is a simplification for illustrative
purposes.</li>
</ul>
</li>
<li>In section 7.2.2 we write that “the square root of R is equivalent
to the Pearson correlation between Y and X”. This is only true if r is
positive. It would be better to say that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>r</mi><mn>2</mn></msup><mo>=</mo><msup><mi>R</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">r^2 = R^2</annotation></semantics></math>,
or that the square of r is equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mn>2</mn></msup><annotation encoding="application/x-tex">R^2</annotation></semantics></math>.</li>
<li>Last sentence in section 7.2.2:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math>
should not be enclosed in parentheses.</li>
<li>Section 8.1, after Eq. 8.2 we write: The same interpretation applies
to the coefficients
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>2</mn></msub><mo>,</mo><msub><mi>β</mi><mn>3</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>β</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\beta_2, \beta_3, ..., \beta_k</annotation></semantics></math>).
The last beta in the parenthesis should have subscript K, not k.</li>
<li>Figure 8.1: There should not be a hat on the epsilon in the
figure.</li>
<li>Section 12.4, after output of
<code>anova(mod.linear,mod.quadratic, mod.cubic)</code> we write: “[…]
but that the cubic model does not outperform the quadratic model,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>χ</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0.27</mn><mo>,</mo><mi>p</mi><mo>=</mo><mn>0.27</mn></mrow><annotation encoding="application/x-tex">\chi^2(1) = 0.27, p = 0.27</annotation></semantics></math>.”
<ul>
<li>The Chi-square value is wrong. It should be 1.21, not 0.27 (which is
the p-value, printed twice).</li>
</ul>
</li>
<li>On page 367 we mention the function <code>smc()</code> that
calculates the squared multiple correlation and we write that it is part
of the <code>dplyr</code> package. This is incorrect, as
<code>smc()</code> is implemented in the <code>psych</code>
package.</li>
</ul>
</div>
<div class="section level3">
<h3 id="problems-with-code">Problems with code<a class="anchor" aria-label="anchor" href="#problems-with-code"></a>
</h3>
<ul>
<li>Section 10.2, towards the end there is a code segment that
reads:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ihrke/astatur" class="external-link">astatur</a></span><span class="op">)</span></span>
<span><span class="va">workout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">workout</span>, healthage <span class="op">=</span> <span class="va">health</span> <span class="op">*</span> <span class="va">age</span><span class="op">)</span></span></code></pre></div>
<p>The mutate function may give an error (with recent versions of R and
the <code>dplyr</code> package) that it cannot compute the product of
health and age, since health is of type <code>haven_labelled</code>. The
problem can be solved by applying the function
<code>zap_formats()</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">workout</span> <span class="op">&lt;-</span> <span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/zap_formats.html" class="external-link">zap_formats</a></span><span class="op">(</span><span class="va">workout</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>On page 89, we write</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">country</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Dutch"</span>, <span class="st">"Wales"</span>, <span class="st">"Scotland"</span>, <span class="st">"Holland"</span>,</span>
<span>                    <span class="st">"Netherlands"</span>, <span class="st">"United Kingdom"</span>, <span class="st">"England"</span>,</span>
<span>                    <span class="st">"Northern Ireland"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">country</span> <span class="op">&lt;-</span> <span class="fu">fct_collapse</span><span class="op">(</span><span class="va">country</span>,</span>
<span>                        Netherlands <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Friesland"</span>, <span class="st">"Holland"</span>, <span class="st">"Netherlands"</span><span class="op">)</span>,</span>
<span>                        `United Kingdom` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wales"</span>, <span class="st">"Scotland"</span>,</span>
<span>                                             <span class="st">"United Kingdom"</span>, <span class="st">"England"</span>,</span>
<span>                                             <span class="st">"Northern Ireland"</span><span class="op">)</span><span class="op">)</span>                    </span></code></pre></div>
<p>Running this code will collapse the factor to categories
“Netherlands”, “United Kingdom” and “Dutch”. Our intention was that
category “Dutch” from the factor specification should be subsumed in the
“Netherlands” category. Therefore, “Dutch” should be relabeled as
“Friesland” or “Dutch” should be included in the list in the second
statement using <code>fct_collapse()</code>.</p>
<ul>
<li>In section 12.1.1 on page 327, we give a more complex example of
using <code>pivot_longer()</code> to convert a wide
<code>data.frame</code> into long format. The example is:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">depression.wide</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">pivot_longer</span><span class="op">(</span>cols<span class="op">=</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"week"</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"BDI"</span><span class="op">)</span>,</span>
<span>               names_to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".value"</span>, <span class="st">"session"</span><span class="op">)</span>,</span>
<span>               names_pattern<span class="op">=</span><span class="st">"(BDI|week)([0-9+])"</span>,</span>
<span>               values_drop_na<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>There is a mistake in the line
<code>names_pattern="(BDI|week)([0-9+])"</code>. The regular expression
<code>[0-9+]</code> only captures a single integer and hence the code
will not work as intended as values such as “BDI10” or “week12” will be
coded as <code>session=1</code> instead of <code>session=10</code> and
<code>session=12</code>, respectively. The correct regular expression
should be <code>"(BDI|week)([0-9]+)"</code> such that the full
code-example should read</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">depression.wide</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">pivot_longer</span><span class="op">(</span>cols<span class="op">=</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"week"</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"BDI"</span><span class="op">)</span>,</span>
<span>               names_to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".value"</span>, <span class="st">"session"</span><span class="op">)</span>,</span>
<span>               names_pattern<span class="op">=</span><span class="st">"(BDI|week)([0-9]+)"</span>,</span>
<span>               values_drop_na<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h3>
<p>Thanks to Dan Mønster (<a href="http://au.dk/en/danm@econ.au.dk" class="external-link uri">http://au.dk/en/danm@econ.au.dk</a>) for thoroughly reading
and commenting on the book!</p>
<p>Thanks to Benjamin Holen Dybendal (<a href="https://www.ntnu.no/ansatte/benjamin.dybendal" class="external-link uri">https://www.ntnu.no/ansatte/benjamin.dybendal</a>) for
pointing out errors in the book.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mittner Matthias, Mehmetoglu Mehmet.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
